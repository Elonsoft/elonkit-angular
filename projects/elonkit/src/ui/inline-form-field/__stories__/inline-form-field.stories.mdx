import { Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { Canvas } from '~storybook/components';

import { action } from '@storybook/addon-actions';

import { ESInlineFormFieldComponent } from '..';

import {
  InlineFormFieldStoryBasicModule,
  InlineFormFieldStoryBasicComponent,
  INLINE_FORM_FIELD_STORY_BASIC_SOURCE
} from './inline-form-field-story-basic';

import {
  InlineFormFieldStoryTypographyModule,
  InlineFormFieldStoryTypographyComponent,
  INLINE_FORM_FIELD_STORY_TYPOGRAPHY_SOURCE
} from './inline-form-field-story-typography';

import {
  InlineFormFieldStoryCompositionModule,
  InlineFormFieldStoryCompositionComponent,
  INLINE_FORM_FIELD_STORY_COMPOSITION_SOURCE
} from './inline-form-field-story-composition';

import {
  InlineFormFieldStoryValidationModule,
  InlineFormFieldStoryValidationComponent,
  INLINE_FORM_FIELD_STORY_VALIDATION_SOURCE
} from './inline-form-field-story-validation';

<Meta title='UI/Inline Form Field' />

# Inline Form Field

This component allows inline switching between display value and input.

## Demos

<Canvas source={INLINE_FORM_FIELD_STORY_BASIC_SOURCE}>
  <Story name='Basic' height='50px'>
    {{
      component: InlineFormFieldStoryBasicComponent,
      moduleMetadata: {
        imports: [InlineFormFieldStoryBasicModule]
      }
    }}
  </Story>
</Canvas>

We can use `typography` input in order to change text presentation.

<Canvas source={INLINE_FORM_FIELD_STORY_TYPOGRAPHY_SOURCE}>
  <Story name='Typography' height='170px' args={{ typography: 'mat-h2' }}>
    {((args) => ({
      component: InlineFormFieldStoryTypographyComponent,
      moduleMetadata: {
        imports: [InlineFormFieldStoryTypographyModule]
      },
      props: {
        ...args
      }
    })).bind({})}
  </Story>
</Canvas>

This component is compatible with any\* Angular Material form field feature.

<Canvas source={INLINE_FORM_FIELD_STORY_COMPOSITION_SOURCE}>
  <Story name='Composition' height='380px'>
    {{
      component: InlineFormFieldStoryCompositionComponent,
      moduleMetadata: {
        imports: [InlineFormFieldStoryCompositionModule]
      }
    }}
  </Story>
</Canvas>

Synchronous validations for template-driven and reactive forms are supported out of the box.
If there are any server-side validations you should take advantage of `manualSave` input.

<Canvas source={INLINE_FORM_FIELD_STORY_VALIDATION_SOURCE}>
  <Story name='Validation' height='100px'>
    {{
      component: InlineFormFieldStoryValidationComponent,
      moduleMetadata: {
        imports: [InlineFormFieldStoryValidationModule]
      }
    }}
  </Story>
</Canvas>

## API

<ArgsTable of={ESInlineFormFieldComponent} />

## Constants

Injection token that can be used to configure the default options for all components within an app.

```ts
import { ES_INLINE_FORM_FIELD_DEFAULT_OPTIONS } from '@elonkit/angular/ui/inline-form-field';

@NgModule({
  providers: [
    {
      provide: ES_INLINE_FORM_FIELD_DEFAULT_OPTIONS,
      useValue: {
        typography: 'es-body-200'
      }
    }
  ]
})
```
