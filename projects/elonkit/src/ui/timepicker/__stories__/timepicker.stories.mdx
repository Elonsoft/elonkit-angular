import { Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { Canvas } from '~storybook/components';

import { action } from '@storybook/addon-actions';

import { ESTimepickerComponent } from '..';

import {
  TimepickerStoryBasicModule,
  TimepickerStoryBasicComponent,
  TIMEPICKER_STORY_BASIC_SOURCE
} from './timepicker-story-basic';

import {
  TimepickerStorySecondsModule,
  TimepickerStorySecondsComponent,
  TIMEPICKER_STORY_SECONDS_SOURCE
} from './timepicker-story-seconds';

import {
  TimepickerStoryRequiredModule,
  TimepickerStoryRequiredComponent,
  TIMEPICKER_STORY_REQUIRED_SOURCE
} from './timepicker-story-required';

<Meta title='UI/Timepicker' />

# Timepicker

The timepicker allows users to enter a time through masked text input.
This component named `picker` instead of `input` in case we'll implement an actual picker in the future.

## Demos

<Canvas source={TIMEPICKER_STORY_BASIC_SOURCE}>
  <Story name='Basic' height='110px'>
    {{
      component: TimepickerStoryBasicComponent,
      moduleMetadata: {
        imports: [TimepickerStoryBasicModule]
      }
    }}
  </Story>
</Canvas>

We can use `withSeconds` in order to display seconds input.

<Canvas source={TIMEPICKER_STORY_SECONDS_SOURCE}>
  <Story name='Seconds' height='110px'>
    {{
      component: TimepickerStorySecondsComponent,
      moduleMetadata: {
        imports: [TimepickerStorySecondsModule]
      }
    }}
  </Story>
</Canvas>

When input is required it won't allow to clear existing value.

<Canvas source={TIMEPICKER_STORY_REQUIRED_SOURCE}>
  <Story
    name='Required'
    height='110px'
    args={{ required: true }}
    argTypes={{ required: { control: 'boolean' } }}
  >
    {((args) => ({
      component: TimepickerStoryRequiredComponent,
      moduleMetadata: {
        imports: [TimepickerStoryRequiredModule]
      },
      props: {
        ...args
      }
    })).bind({})}
  </Story>
</Canvas>

## API

<ArgsTable of={ESTimepickerComponent} />
