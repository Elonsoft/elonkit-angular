import { Meta, Story, ArgsTable } from '@storybook/addon-docs/blocks';
import { Canvas } from '~storybook/components';

import { action } from '@storybook/addon-actions';

import { ESTooltipModule, ESTooltipDirective } from '..';

import {
  TooltipStoryBasicModule,
  TooltipStoryBasicComponent,
  TOOLTIP_STORY_BASIC_SOURCE
} from './tooltip-story-basic';
import {
  TooltipStoryInteractiveModule,
  TooltipStoryInteractiveComponent,
  TOOLTIP_STORY_INTERACTIVE_SOURCE
} from './tooltip-story-interactive';
import {
  TooltipStoryThemingModule,
  TooltipStoryThemingComponent,
  TOOLTIP_STORY_THEMING_SOURCE
} from './tooltip-story-theming';
import {
  TooltipStoryListenersModule,
  TooltipStoryListenersComponent,
  TOOLTIP_STORY_LISTENERS_SOURCE
} from './tooltip-story-listeners';

<Meta title='UI/Tooltip' />

# Tooltip

The tooltip provides a text label that is displayed when the user hovers over or longpresses an element.
This is a copy of Angular Material tooltip with added support for arrows and complex content inside a tooltip.

## Demos

<Canvas source={TOOLTIP_STORY_BASIC_SOURCE}>
  <Story
    name='Basic'
    height='110px'
    args={{
      esTooltipArrow: true
    }}
    argTypes={{
      esTooltipArrow: {
        control: 'boolean'
      }
    }}
  >
    {((args, context) => ({
      component: TooltipStoryBasicComponent,
      moduleMetadata: {
        imports: [TooltipStoryBasicModule]
      },
      props: {
        ...args
      }
    })).bind({})}
  </Story>
</Canvas>

We can place interactive content inside a tooltip.

<Canvas source={TOOLTIP_STORY_INTERACTIVE_SOURCE}>
  <Story
    name='Interactive'
    height='150px'
    args={{
      esTooltipArrow: true,
      esTooltipMouseAimDelay: 300
    }}
    argTypes={{
      esTooltipArrow: {
        control: 'boolean'
      },
      esTooltipMouseAimDelay: {
        control: 'number'
      }
    }}
  >
    {((args, context) => ({
      component: TooltipStoryInteractiveComponent,
      moduleMetadata: {
        imports: [TooltipStoryInteractiveModule]
      },
      props: {
        ...args
      }
    })).bind({})}
  </Story>
</Canvas>

We can use `es-tooltip-color` mixin to easily change tooltip colors.

<Canvas source={TOOLTIP_STORY_THEMING_SOURCE}>
  <Story
    name='Theming'
    height='150px'
    args={{
      esTooltipArrow: true
    }}
    argTypes={{
      esTooltipArrow: {
        control: 'boolean'
      }
    }}
  >
    {((args, context) => ({
      component: TooltipStoryThemingComponent,
      moduleMetadata: {
        imports: [TooltipStoryThemingModule]
      },
      props: {
        ...args
      }
    })).bind({})}
  </Story>
</Canvas>

We can disable open and close listeners.

<Canvas source={TOOLTIP_STORY_LISTENERS_SOURCE}>
  <Story
    name='Listeners'
    height='150px'
    args={{
      esTooltipArrow: true,
      esTooltipDisableFocusListener: true,
      esTooltipDisableHoverListener: false,
      esTooltipDisableCloseFocusListener: true,
      esTooltipDisableCloseHoverListener: true,
      esTooltipDisableCloseClickListener: true
    }}
    argTypes={{
      esTooltipArrow: {
        control: 'boolean'
      },
      esTooltipDisableFocusListener: {
        control: 'boolean'
      },
      esTooltipDisableHoverListener: {
        control: 'boolean'
      },
      esTooltipDisableCloseFocusListener: {
        control: 'boolean'
      },
      esTooltipDisableCloseHoverListener: {
        control: 'boolean'
      },
      esTooltipDisableCloseClickListener: {
        control: 'boolean'
      }
    }}
  >
    {((args, context) => ({
      component: TooltipStoryListenersComponent,
      moduleMetadata: {
        imports: [TooltipStoryListenersModule]
      },
      props: {
        ...args
      }
    })).bind({})}
  </Story>
</Canvas>

## API

<ArgsTable of={ESAlertComponent} />

## Constants

Injection token that can be used to configure the default options for all components within an app.

```ts
import { ES_TOOLTIP_DEFAULT_OPTIONS } from '@elonsoft/elonkit/ui/tooltip';

@NgModule({
  providers: [
    {
      provide: ES_TOOLTIP_DEFAULT_OPTIONS,
      useValue: {
        arrow: false,
        mouseAimDelay: 300
      }
    }
  ]
})
```
