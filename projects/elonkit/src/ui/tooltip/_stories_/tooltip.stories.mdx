import { Meta, Story, ArgsTable } from '@storybook/addon-docs/blocks';
import { Canvas } from '~storybook/components';

import { action } from '@storybook/addon-actions';
import { boolean, number } from '@storybook/addon-knobs';

import { BrowserAnimationsModule } from '@angular/platform-browser/animations';

import { ESTooltipModule, ESTooltipDirective } from '..';

import {
  TooltipStoryBasicModule,
  TooltipStoryBasicComponent,
  TOOLTIP_STORY_BASIC_SOURCE
} from './tooltip-story-basic';
import {
  TooltipStoryInteractiveModule,
  TooltipStoryInteractiveComponent,
  TOOLTIP_STORY_INTERACTIVE_SOURCE
} from './tooltip-story-interactive';
import {
  TooltipStoryThemingModule,
  TooltipStoryThemingComponent,
  TOOLTIP_STORY_THEMING_SOURCE
} from './tooltip-story-theming';
import {
  TooltipStoryListenersModule,
  TooltipStoryListenersComponent,
  TOOLTIP_STORY_LISTENERS_SOURCE
} from './tooltip-story-listeners';

<Meta title='UI/Tooltip' component={ESTooltipDirective} />

# Tooltip

The tooltip provides a text label that is displayed when the user hovers over or longpresses an element.
This is a copy of Angular Material tooltip with added support for arrows and complex content inside a tooltip.

## Demos

<Canvas source={TOOLTIP_STORY_BASIC_SOURCE}>
  <Story name='Basic' height='110px'>
    {{
      component: TooltipStoryBasicComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, TooltipStoryBasicModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true)
      }
    }}
  </Story>
</Canvas>

We can place interactive content inside a tooltip.

<Canvas source={TOOLTIP_STORY_INTERACTIVE_SOURCE}>
  <Story name='Interactive' height='150px'>
    {{
      component: TooltipStoryInteractiveComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, TooltipStoryInteractiveModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true),
        esTooltipMouseAimDelay: number('esTooltipMouseAimDelay', 300)
      }
    }}
  </Story>
</Canvas>

We can use `es-tooltip-color` mixin to easily change tooltip colors.

<Canvas source={TOOLTIP_STORY_THEMING_SOURCE}>
  <Story name='Theming' height='150px'>
    {{
      component: TooltipStoryThemingComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, TooltipStoryThemingModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true)
      }
    }}
  </Story>
</Canvas>

We can disable open and close listeners.

<Canvas source={TOOLTIP_STORY_LISTENERS_SOURCE}>
  <Story name='Listeners' height='150px'>
    {{
      component: TooltipStoryListenersComponent,
      moduleMetadata: {
        imports: [BrowserAnimationsModule, TooltipStoryListenersModule]
      },
      props: {
        esTooltipArrow: boolean('esTooltipArrow', true),
        esTooltipDisableFocusListener: boolean('esTooltipDisableFocusListener', true),
        esTooltipDisableHoverListener: boolean('esTooltipDisableHoverListener', false),
        esTooltipDisableCloseFocusListener: boolean('esTooltipDisableCloseFocusListener', true),
        esTooltipDisableCloseHoverListener: boolean('esTooltipDisableCloseHoverListener', true),
        esTooltipDisableCloseClickListener: boolean('esTooltipDisableCloseClickListener', true)
      }
    }}
  </Story>
</Canvas>

## API

<ArgsTable />

## Constants

Injection token that can be used to configure the default options for all components within an app.

```ts
import { ES_TOOLTIP_DEFAULT_OPTIONS } from '@elonsoft/elonkit/ui/tooltip';

@NgModule({
  providers: [
    {
      provide: ES_TOOLTIP_DEFAULT_OPTIONS,
      useValue: {
        arrow: false,
        mouseAimDelay: 300
      }
    }
  ]
})
```
